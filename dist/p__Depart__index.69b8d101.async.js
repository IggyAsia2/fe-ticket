"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[793],{1442:function(K,Z,e){var x=e(12309),E=e(50959),I=e(63374),u=e(69164),R=function(S,h){return E.createElement(u.Z,(0,x.Z)((0,x.Z)({},S),{},{ref:h,icon:I.Z}))};R.displayName="PlusOutlined",Z.Z=E.forwardRef(R)},34366:function(K,Z,e){var x=e(12309),E=e(10582),I=e(50959),u=e(56242),R=e(11527),O=["fieldProps","min","proFieldProps","max"],S=function(C,M){var $=C.fieldProps,o=C.min,w=C.proFieldProps,U=C.max,P=(0,E.Z)(C,O);return(0,R.jsx)(u.Z,(0,x.Z)({valueType:"digit",fieldProps:(0,x.Z)({min:o,max:U},$),ref:M,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:w},P))},h=I.forwardRef(S);Z.Z=h},93637:function(K,Z,e){var x=e(12309),E=e(10582),I=e(50959),u=e(56242),R=e(11527),O=["fieldProps","proFieldProps"],S=["fieldProps","proFieldProps"],h="text",W=function(o){var w=o.fieldProps,U=o.proFieldProps,P=(0,E.Z)(o,O);return(0,R.jsx)(u.Z,(0,x.Z)({valueType:h,fieldProps:w,filedConfig:{valueType:h},proFieldProps:U},P))},C=function(o){var w=o.fieldProps,U=o.proFieldProps,P=(0,E.Z)(o,S);return(0,R.jsx)(u.Z,(0,x.Z)({valueType:"password",fieldProps:w,proFieldProps:U,filedConfig:{valueType:h}},P))},M=W;M.Password=C,M.displayName="ProFormComponent",Z.Z=M},52226:function(K,Z,e){e.r(Z),e.d(Z,{default:function(){return ce}});var x=e(28152),E=e.n(x),I=e(13448),u=e.n(I),R=e(77117),O=e.n(R),S=e(74815),h=e.n(S),W=e(1442),C=e(13494),M=e(70024),$=e(35245),o=e(83258),w=e(65606),U=e(73118),P=e(50959),N=e(88815),B=e(93637),r=e(11527),ee=function(a){return(0,r.jsxs)(N.Y,{width:580,open:a.createModalOpen,modalProps:{destroyOnClose:!0,onCancel:function(){return a.onCancel()},cancelText:"H\u1EE7y"},onFinish:a.onFinish,title:"T\u1EA1o \u0111\u1ECBa \u0111i\u1EC3m",children:[(0,r.jsx)(B.Z,{name:"name",label:"T\xEAn \u0111\u1ECBa \u0111i\u1EC3m",width:"xl",placeholder:"Nh\u1EADp t\xEAn \u0111\u1ECBa \u0111i\u1EC3m",rules:[{required:!0,message:"Nh\u1EADp t\xEAn \u0111\u1ECBa \u0111i\u1EC3m!"}]}),(0,r.jsx)(B.Z,{name:"phone",label:"\u0110i\u1EC7n tho\u1EA1i",width:"xl",placeholder:"Nh\u1EADp s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",rules:[{required:!0,message:"Nh\u1EADp s\u1ED1 \u0111i\u1EC7n tho\u1EA1i!"}]})]})},re=ee,ne=function(a){return(0,r.jsxs)(N.Y,{width:580,open:a.updateModalOpen,modalProps:{destroyOnClose:!0,onCancel:function(){return a.onCancel()},cancelText:"H\u1EE7y"},onFinish:a.onSubmit,initialValues:{name:a.values.name,phone:a.values.phone},title:"C\u1EADp nh\u1EADt \u0111\u1ECBa \u0111i\u1EC3m",children:[(0,r.jsx)(B.Z,{name:"name",label:"T\xEAn \u0111\u1ECBa \u0111i\u1EC3m",width:"xl",placeholder:"Nh\u1EADp t\xEAn \u0111\u1ECBa \u0111i\u1EC3m",rules:[{required:!0,message:"Nh\u1EADp t\xEAn \u0111\u1ECBa \u0111i\u1EC3m!"}]}),(0,r.jsx)(B.Z,{name:"phone",label:"\u0110i\u1EC7n tho\u1EA1i",width:"xl",placeholder:"Nh\u1EADp s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",rules:[{required:!0,message:"Nh\u1EADp s\u1ED1 \u0111i\u1EC7n tho\u1EA1i!"}]})]})},ae=ne,G=e(34366),te=function(a){return(0,r.jsxs)(N.Y,{width:580,open:a.createModalOpen,modalProps:{destroyOnClose:!0,onCancel:function(){return a.onCancel()},cancelText:"H\u1EE7y"},onFinish:a.onFinish,title:"T\u1EA1o qu\u1EA7y",children:[(0,r.jsx)(B.Z,{name:"name",label:"T\xEAn qu\u1EA7y",width:"xl",placeholder:"Nh\u1EADp t\xEAn qu\u1EA7y",rules:[{required:!0,message:"Nh\u1EADp t\xEAn qu\u1EA7y!"}]}),(0,r.jsx)(G.Z,{name:"order",label:"STT",width:"xl",placeholder:"Nh\u1EADp s\u1ED1 th\u1EE9 t\u1EF1",rules:[{required:!0,message:"B\u1EA1n ch\u01B0a nh\u1EADp stt"}]})]})},ue=te,le=function(a){return(0,r.jsxs)(N.Y,{width:580,open:a.updateModalOpen,modalProps:{destroyOnClose:!0,onCancel:function(){return a.onCancel()},cancelText:"H\u1EE7y"},onFinish:a.onFinish,initialValues:{name:a.values.name,order:a.values.order},title:"C\u1EADp nh\u1EADt qu\u1EA7y v\xE9",children:[(0,r.jsx)(B.Z,{name:"name",label:"T\xEAn qu\u1EA7y",width:"xl",placeholder:"Nh\u1EADp t\xEAn qu\u1EA7y",rules:[{required:!0,message:"Nh\u1EADp t\xEAn qu\u1EA7y!"}]}),(0,r.jsx)(G.Z,{name:"order",label:"STT",width:"xl",placeholder:"Nh\u1EADp s\u1ED1 th\u1EE9 t\u1EF1",rules:[{required:!0,message:"B\u1EA1n ch\u01B0a nh\u1EADp stt"}]})]})},se=le,ie=function(){var p=h()(u()().mark(function a(v){var f;return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return f=o.ZP.loading("Adding"),s.prev=1,s.next=4,(0,C.Jh)(O()({},v));case 4:return f(),o.ZP.success("Added successfully"),s.abrupt("return",!0);case 9:return s.prev=9,s.t0=s.catch(1),f(),o.ZP.error("Adding failed, please try again!"),s.abrupt("return",!1);case 14:case"end":return s.stop()}},a,null,[[1,9]])}));return function(v){return p.apply(this,arguments)}}(),oe=function(){var p=h()(u()().mark(function a(v){var f;return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(f=o.ZP.loading("Deleting"),v){s.next=3;break}return s.abrupt("return",!0);case 3:return s.prev=3,s.next=6,(0,C.UJ)(v[0]);case 6:return f(),o.ZP.success("Deleted successfully and will refresh soon"),s.abrupt("return",!0);case 11:return s.prev=11,s.t0=s.catch(3),f(),o.ZP.error("Delete failed, please try again"),s.abrupt("return",!1);case 16:case"end":return s.stop()}},a,null,[[3,11]])}));return function(v){return p.apply(this,arguments)}}(),de=function(){var p=h()(u()().mark(function a(v,f){var T;return u()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return T=o.ZP.loading("Deleting"),D.prev=1,D.next=4,(0,C.Yp)({departID:v,cashierID:f});case 4:return T(),o.ZP.success("Deleted successfully and will refresh soon"),D.abrupt("return",!0);case 9:return D.prev=9,D.t0=D.catch(1),T(),o.ZP.error("Delete failed, please try again"),D.abrupt("return",!1);case 14:case"end":return D.stop()}},a,null,[[1,9]])}));return function(v,f){return p.apply(this,arguments)}}(),ce=function(){var p=(0,P.useRef)(),a=(0,P.useState)(),v=E()(a,2),f=v[0],T=v[1],s=(0,P.useState)(),D=E()(s,2),b=D[0],pe=D[1],he=(0,P.useState)(),J=E()(he,2),fe=J[0],Q=J[1],me=(0,P.useState)(!1),V=E()(me,2),ve=V[0],L=V[1],Ee=(0,P.useState)(!1),X=E()(Ee,2),Ce=X[0],H=X[1],Pe=(0,P.useState)(!1),z=E()(Pe,2),Ae=z[0],Y=z[1],De=(0,P.useState)(!1),_=E()(De,2),ye=_[0],k=_[1],q=function(){var m=h()(u()().mark(function d(t,c){var l,n,y,i,j,g;return u()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(l=o.ZP.loading("\u0110ang x\u1EED l\xFD"),n=f._id,y=f.name,i=f.phone,j=f.order,g={},y!==t.name&&(g.name=t.name),i!==t.phone&&(g.phone=t.phone),j!==t.order&&(g.order=t.order),!(Object.keys(g).length>0)){F.next=22;break}return F.prev=7,F.next=10,(0,C.aC)(O()(O()({},g),{},{departID:n,method:c}));case 10:return l(),o.ZP.success("Update is successful"),F.abrupt("return",!0);case 15:return F.prev=15,F.t0=F.catch(7),l(),o.ZP.error("Update failed, please try again!"),F.abrupt("return",!1);case 20:F.next=24;break;case 22:return l(),F.abrupt("return",!0);case 24:case"end":return F.stop()}},d,null,[[7,15]])}));return function(t,c){return m.apply(this,arguments)}}(),Fe=function(){var m=h()(u()().mark(function d(t,c){var l,n,y,i,j;return u()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(console.log(t,b),l=o.ZP.loading("\u0110ang x\u1EED l\xFD"),n=b._id,y=b.name,i=b.order,j={},y!==t.name&&(j.name=t.name),i!==t.order&&(j.order=t.order),!(Object.keys(j).length>0)){A.next=22;break}return A.prev=7,A.next=10,(0,C.BS)(O()(O()({},j),{},{departID:c,cashierID:n}));case 10:return l(),o.ZP.success("Update is successful"),A.abrupt("return",!0);case 15:return A.prev=15,A.t0=A.catch(7),l(),o.ZP.error("Update failed, please try again!"),A.abrupt("return",!1);case 20:A.next=24;break;case 22:return l(),A.abrupt("return",!0);case 24:case"end":return A.stop()}},d,null,[[7,15]])}));return function(t,c){return m.apply(this,arguments)}}(),ge=function(d){return(0,r.jsx)(M.Z,{columns:[{title:"Qu\u1EA7y",dataIndex:"name"},{title:"STT",dataIndex:"order"},{title:"Action",valueType:"option",render:function(c,l){return[(0,r.jsx)("a",{onClick:function(){k(!0),pe(l),Q(d._id)},children:"C\u1EADp nh\u1EADt"},"conf"),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(w.Z,{title:"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a?",onConfirm:h()(u()().mark(function n(){var y,i;return u()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,de(d._id,l._id);case 2:(y=p.current)===null||y===void 0||(i=y.reloadAndRest)===null||i===void 0||i.call(y);case 3:case"end":return g.stop()}},n)})),children:(0,r.jsx)("a",{children:"X\xF3a"},"deletec")})})]}}],headerTitle:!1,search:!1,options:!1,dataSource:d.cashiers.map(function(t){return O()({key:t._id},t)}),pagination:!1})},Oe=[{title:"\u0110\u1ECBa \u0111i\u1EC3m",width:120,dataIndex:"name"},{title:"\u0110i\u1EC7n tho\u1EA1i",width:120,dataIndex:"phone"},{title:"T\xF9y ch\u1ECDn",dataIndex:"option",valueType:"option",width:80,render:function(d,t){return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly"},children:[(0,r.jsx)("a",{onClick:function(){H(!0),T(t)},children:"C\u1EADp nh\u1EADt"},"update"),(0,r.jsx)("a",{onClick:function(){Y(!0),T(t)},children:"T\u1EA1o qu\u1EA7y"},"create"),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(w.Z,{title:"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a?",onConfirm:h()(u()().mark(function c(){var l,n;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,oe([t]);case 2:(l=p.current)===null||l===void 0||(n=l.reloadAndRest)===null||n===void 0||n.call(l);case 3:case"end":return i.stop()}},c)})),children:(0,r.jsx)("a",{children:"X\xF3a"},"delete")})})]})}}];return(0,r.jsxs)($._z,{children:[(0,r.jsx)(M.Z,{columns:Oe,actionRef:p,request:C.$Q,rowKey:"_id",expandable:{expandedRowRender:ge,defaultExpandAllRows:!0},search:!1,toolBarRender:function(){return[(0,r.jsxs)(U.ZP,{type:"primary",onClick:function(){L(!0)},children:[(0,r.jsx)(W.Z,{})," T\u1EA1o"]},"primary")]}}),(0,r.jsx)(ae,{onSubmit:function(){var m=h()(u()().mark(function d(t){var c,l,n;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,q(t,"PATCH");case 2:c=i.sent,c&&(H(!1),T(void 0),p.current&&((l=p.current)===null||l===void 0||(n=l.reloadAndRest)===null||n===void 0||n.call(l)));case 4:case"end":return i.stop()}},d)}));return function(d){return m.apply(this,arguments)}}(),onCancel:function(){H(!1)},updateModalOpen:Ce,values:f||{}}),(0,r.jsx)(re,{onFinish:function(){var m=h()(u()().mark(function d(t){var c;return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ie(t);case 2:c=n.sent,c&&(L(!1),p.current&&p.current.reload());case 4:case"end":return n.stop()}},d)}));return function(d){return m.apply(this,arguments)}}(),onCancel:function(){L(!1)},createModalOpen:ve,values:f||{}}),(0,r.jsx)(ue,{onFinish:function(){var m=h()(u()().mark(function d(t){var c;return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,q(t,"POST");case 2:c=n.sent,c&&(Y(!1),p.current&&p.current.reload());case 4:case"end":return n.stop()}},d)}));return function(d){return m.apply(this,arguments)}}(),onCancel:function(){Y(!1)},createModalOpen:Ae,values:f||{}}),(0,r.jsx)(se,{onFinish:function(){var m=h()(u()().mark(function d(t){var c,l,n;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fe(t,fe);case 2:c=i.sent,c&&(k(!1),T(void 0),Q(void 0),p.current&&((l=p.current)===null||l===void 0||(n=l.reloadAndRest)===null||n===void 0||n.call(l)));case 4:case"end":return i.stop()}},d)}));return function(d){return m.apply(this,arguments)}}(),onCancel:function(){k(!1)},updateModalOpen:ye,values:b||{}})]})}}}]);
